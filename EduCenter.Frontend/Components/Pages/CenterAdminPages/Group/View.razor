@page "/center-admin/groups/{id:int}"


<main class="nxl-container">
    <div class="nxl-content">
        <!-- [ page-header ] start -->
        @* <div class="page-header">
					<div class="page-header-left d-flex align-items-center">
						<div class="page-header-title">
							<h5 class="m-b-10">Customers</h5>
						</div>
						<ul class="breadcrumb">
							<li class="breadcrumb-item"><a href="index.html">Home</a></li>
							<li class="breadcrumb-item">View</li>
						</ul>
					</div>
					<div class="page-header-right ms-auto">
						<div class="page-header-right-items">
							<div class="d-flex d-md-none">
								<a href="javascript:void(0)" class="page-header-right-close-toggle">
									<i class="feather-arrow-left me-2"></i>
									<span>Back</span>
								</a>
							</div>
							<div class="d-flex align-items-center gap-2 page-header-right-items-wrapper">
								<a href="javascript:void(0);" class="btn btn-icon btn-light-brand successAlertMessage">
									<i class="feather-star"></i>
								</a>
								<a href="javascript:void(0);" class="btn btn-icon btn-light-brand">
									<i class="feather-eye me-2"></i>
									<span>Follow</span>
								</a>
								<a href="customers-create.html" class="btn btn-primary">
									<i class="feather-plus me-2"></i>
									<span>Create Customer</span>
								</a>
							</div>
						</div>
						<div class="d-md-none d-flex align-items-center">
							<a href="javascript:void(0)" class="page-header-right-open-toggle">
								<i class="feather-align-right fs-20"></i>
							</a>
						</div>
					</div>
				</div> *@
        <!-- [ page-header ] end -->
        <!-- [ Main Content ] start -->
        <div class="main-content">
            <div class="row">

                <div class="col-xxl-12 col-xl-12">
                    <div class="card border-top-0">
                        <div class="card-header p-0">
                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs flex-wrap w-100 text-center customers-nav-tabs" id="myTab" role="tablist">
                                <li class="nav-item flex-fill border-top" role="presentation">
                                    <a href="javascript:void(0);" class="nav-link active" data-bs-toggle="tab" data-bs-target="#overviewTab" role="tab">Umumiy</a>
                                </li>
                                <li class="nav-item flex-fill border-top" role="presentation">
                                    <a href="javascript:void(0);" class="nav-link" data-bs-toggle="tab" data-bs-target="#activityTab" role="tab">Talabalar ro'yxati</a>
                                </li>
                                <li class="nav-item flex-fill border-top" role="presentation">
                                    <a href="javascript:void(0);" class="nav-link" data-bs-toggle="tab" data-bs-target="#billingTab" role="tab">To'lov jadvali</a>
                                </li>

                            </ul>
                        </div>
                        <div class="tab-content">
                            <div class="tab-pane fade show active p-4" id="overviewTab" role="tabpanel">

                                <div class="profile-details mb-5">
                                    <div class="mb-4 d-flex align-items-center justify-content-between">
                                        <h5 class="fw-bold mb-0">Guruh  haqida:</h5>
                                        <a href="javascript:void(0);" class="btn btn-sm btn-light-brand">Guruhni tahrirlash</a>
                                    </div>
                                    <div class="row g-0 mb-4">
                                        <div class="col-sm-6 text-muted">Nomi:</div>
                                        <div class="col-sm-6 fw-semibold">@Group?.Name</div>
                                    </div>
                                    <div class="row g-0 mb-4">
                                        <div class="col-sm-6 text-muted">O'qituvchi:</div>
                                        <div class="col-sm-6 fw-semibold">@Group?.Teacher.FullName</div>
                                    </div>
                                    <div class="row g-0 mb-4">
                                        <div class="col-sm-6 text-muted">Fan:</div>
                                        <div class="col-sm-6 fw-semibold">@Group?.Since.Name</div>
                                    </div>
                                    <div class="row g-0 mb-4">
                                        <div class="col-sm-6 text-muted">Guruh narxi:</div>
                                        <div class="col-sm-6 fw-semibold">@Group?.Price so'm</div>
                                    </div>
                                    <div class="row g-0 mb-4">
                                        <div class="col-sm-6 text-muted">O'qituvchining ulushi:</div>
                                        <div class="col-sm-6 fw-semibold">@Group?.TeacherPortion</div>
                                    </div>
                                    <div class="row g-0 mb-4">
                                        <div class="col-sm-6 text-muted">Guruhning yaratilish sanasi:</div>
                                        <div class="col-sm-6 fw-semibold">@Group?.BeginDate</div>
                                    </div>
                                    <div class="row g-0 mb-4">
                                        <div class="col-sm-6 text-muted">Tugashi:</div>
                                        <div class="col-sm-6 fw-semibold">@(Group?.EndDate.ToString() ?? "Faol")</div>
                                    </div>
                                    <div class="row g-0 mb-4">
                                        <div class="col-sm-6 text-muted">Qaysi kunlari darslar bor:</div>
                                        <div class="col-sm-6 fw-semibold"> @string.Join(", ", Group?.Days ?? new List<DayOfWeek>())</div>
                                    </div>
                                    <div class="row g-0 mb-4">
                                        <div class="col-sm-6 text-muted">Vaqtlari:</div>
                                        <div class="col-sm-6 fw-semibold">@string.Join(",", Group?.Times ?? new List<TimeOnly>())</div>
                                    </div>
                                    <div class="row g-0 mb-4">
                                        <div class="col-sm-6 text-muted">Talabalar soni:</div>
                                        <div class="col-sm-6 fw-semibold">@Group?.Students.Count ta</div>
                                    </div>

                                </div>


                            </div>

                            <div class="tab-pane fade" id="billingTab" role="tabpanel">

                                <div class="subscription-plan px-4 pt-4">
                                    <div class="mb-4 d-flex align-items-center justify-content-between">
                                        <h5 class="fw-bold mb-0">Subscription & Plan:</h5>
                                        <a href="javascript:void(0);" class="btn btn-sm btn-light-brand">4 days remaining</a>
                                    </div>
                                    <div class="p-4 mb-4 d-xxl-flex d-xl-block d-md-flex align-items-center justify-content-between gap-4 border border-dashed border-gray-5 rounded-1">
                                        <div>
                                            <div class="fs-14 fw-bold text-dark mb-1">Your current plan is <a href="javascript:void(0);" class="badge bg-primary text-white ms-2">Team Plan</a></div>
                                            <div class="fs-12 text-muted">A simple start for everyone</div>
                                        </div>
                                        <div class="my-3 my-xxl-0 my-md-3 my-md-0">
                                            <div class="fs-20 text-dark"><span class="fw-bold">$29.99</span> / <em class="fs-11 fw-medium">Month</em></div>
                                            <div class="fs-12 text-muted mt-1">Billed Monthly / Next payment on 12/10/2023 for <strong class="text-dark">$62.48</strong></div>
                                        </div>
                                        <div class="hstack gap-3">
                                            <a href="javascript:void(0);" class="text-danger">Cancel Plan</a>
                                            <a href="javascript:void(0);" class="btn btn-light-brand">Update Plan</a>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xxl-4 col-xl-12 col-lg-4">
                                            <a href="javascript:void(0);" class="p-4 mb-4 d-block bg-soft-100 border border-dashed border-gray-5 rounded-1">
                                                <h6 class="fs-13 fw-bold">BASIC</h6>
                                                <p class="fs-12 fw-normal text-muted">Starter plan for individuals.</p>
                                                <p class="fs-12 fw-normal text-muted text-truncate-2-line">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quod ipsa id corrupti modi, impedit exercitationem harum voluptates reiciendis.</p>
                                                <div class="mt-4"><span class="fs-16 fw-bold text-dark">$12.99</span> / <em class="fs-11 fw-medium">Month</em></div>
                                            </a>
                                        </div>
                                        <div class="col-xxl-4 col-xl-12 col-lg-4">
                                            <a href="javascript:void(0);" class="p-4 mb-4 d-block bg-soft-200 border border-dashed border-gray-5 rounded-1 position-relative">
                                                <h6 class="fs-13 fw-bold">TEAM</h6>
                                                <p class="fs-12 fw-normal text-muted">Collaborate up to 10 people.</p>
                                                <p class="fs-12 fw-normal text-muted text-truncate-2-line">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quod ipsa id corrupti modi, impedit exercitationem harum voluptates reiciendis.</p>
                                                <div class="mt-4"><span class="fs-16 fw-bold text-dark">$29.99</span> / <em class="fs-11 fw-medium">Month</em></div>
                                                <div class="position-absolute top-0 start-50 translate-middle">
                                                    <i class="feather-check fs-12 bg-primary text-white p-1 rounded-circle"></i>
                                                </div>
                                            </a>
                                        </div>
                                        <div class="col-xxl-4 col-xl-12 col-lg-4">
                                            <a href="javascript:void(0);" class="p-4 mb-4 d-block bg-soft-100 border border-dashed border-gray-5 rounded-1">
                                                <h6 class="fs-13 fw-bold">ENTERPRISE</h6>
                                                <p class="fs-12 fw-normal text-muted">For bigger businesses.</p>
                                                <p class="fs-12 fw-normal text-muted text-truncate-2-line">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quod ipsa id corrupti modi, impedit exercitationem harum voluptates reiciendis.</p>
                                                <div class="mt-4"><span class="fs-16 fw-bold text-dark">$49.99</span> / <em class="fs-11 fw-medium">Month</em></div>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <hr class="mt-2">
                                <div class="payment-methord px-4">
                                    <div class="mb-4 d-flex align-items-center justify-content-between">
                                        <h5 class="fw-bold mb-0">Payment Methords:</h5>
                                        <a href="javascript:void(0);" class="btn btn-sm btn-light-brand">Add Methord</a>
                                    </div>
                                    <div class="row">
                                        <div class="col-xxl-6 col-xl-12 col-lg-6">
                                            <div class="px-4 py-2 mb-4 d-sm-flex justify-content-between border border-dashed border-gray-3 rounded-1 position-relative">
                                                <div class="d-sm-flex align-items-center">
                                                    <div class="wd-100">
                                                        <img src="/images/payment/mastercard.svg" class="img-fluid" alt="">
                                                    </div>
                                                    <div class="ms-0 ms-sm-3">
                                                        <div class="text-dark fw-bold mb-2">Alexandra Della</div>
                                                        <div class="mb-0 text-truncate-1-line">5155 **** **** ****</div>
                                                        <small class="fs-10 fw-medium text-uppercase text-muted text-truncate-1-line">Card expires at 12/24</small>
                                                    </div>
                                                </div>
                                                <div class="hstack gap-3 mt-3 mt-sm-0">
                                                    <a href="javascript:void(0);" class="text-danger">Delete</a>
                                                    <a href="javascript:void(0);" class="btn btn-sm btn-light">Edit</a>
                                                </div>
                                                <div class="position-absolute top-50 start-0 translate-middle">
                                                    <i class="feather-check fs-12 bg-primary text-white p-1 rounded-circle"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xxl-6 col-xl-12 col-lg-6">
                                            <div class="px-4 py-2 mb-4 d-sm-flex justify-content-between border border-dashed border-gray-3 rounded-1">
                                                <div class="d-sm-flex align-items-center">
                                                    <div class="wd-100">
                                                        <img src="/images/payment/visa.svg" class="img-fluid" alt="">
                                                    </div>
                                                    <div class="ms-0 ms-sm-3">
                                                        <div class="text-dark fw-bold mb-2">Alexandra Della</div>
                                                        <div class="mb-0 text-truncate-1-line">4236 **** **** ****</div>
                                                        <small class="fs-10 fw-medium text-uppercase text-muted text-truncate-1-line">Card expires at 11/23</small>
                                                    </div>
                                                </div>
                                                <div class="hstack gap-3 mt-3 mt-sm-0">
                                                    <a href="javascript:void(0);" class="text-danger">Delete</a>
                                                    <a href="javascript:void(0);" class="btn btn-sm btn-light">Edit</a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xxl-6 col-xl-12 col-lg-6">
                                            <div class="px-4 py-2 mb-4 d-sm-flex justify-content-between border border-dashed border-gray-3 rounded-1">
                                                <div class="d-sm-flex align-items-center">
                                                    <div class="wd-100">
                                                        <img src="/images/payment/american-express.svg" class="img-fluid" alt="">
                                                    </div>
                                                    <div class="ms-0 ms-sm-3">
                                                        <div class="text-dark fw-bold mb-2">Alexandra Della</div>
                                                        <div class="mb-0 text-truncate-1-line">3437 **** **** ****</div>
                                                        <small class="fs-10 fw-medium text-uppercase text-muted text-truncate-1-line">Card expires at 11/24</small>
                                                    </div>
                                                </div>
                                                <div class="hstack gap-3 mt-3 mt-sm-0">
                                                    <a href="javascript:void(0);" class="text-danger">Delete</a>
                                                    <a href="javascript:void(0);" class="btn btn-sm btn-light">Edit</a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xxl-6 col-xl-12 col-lg-6">
                                            <div class="px-4 py-2 mb-4 d-sm-flex justify-content-between border border-dashed border-gray-3 rounded-1">
                                                <div class="d-sm-flex align-items-center">
                                                    <div class="wd-100">
                                                        <img src="/images/payment/discover.svg" class="img-fluid" alt="">
                                                    </div>
                                                    <div class="ms-0 ms-sm-3">
                                                        <div class="text-dark fw-bold mb-2">Alexandra Della</div>
                                                        <div class="mb-0 text-truncate-1-line">6011 **** **** ****</div>
                                                        <small class="fs-10 fw-medium text-uppercase text-muted text-truncate-1-line">Card expires at 11/25</small>
                                                    </div>
                                                </div>
                                                <div class="hstack gap-3 mt-3 mt-sm-0">
                                                    <a href="javascript:void(0);" class="text-danger">Delete</a>
                                                    <a href="javascript:void(0);" class="btn btn-sm btn-light">Edit</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <hr class="mt-2">
                                <div class="payment-history">
                                    <div class="mb-4 px-4 d-flex align-items-center justify-content-between">
                                        <h5 class="fw-bold mb-0">Billing History:</h5>
                                        <a href="javascript:void(0);" class="btn btn-sm btn-light-brand">Alls History</a>
                                    </div>
                                    <div class="table-responsive">
                                        <table class="table mb-0">
                                            <thead>
                                                <tr class="border-top">
                                                    <th>ID</th>
                                                    <th>F.I.O</th>
                                                    <th>Holati</th>
                                                    <th>Status</th>
                                                    <th class="text-end">Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (Student student in Group?.Students ?? new())
                                                {

                                                    <tr>


                                                        <td><a href="javascript:void(0);">@student.Id</a></td>
                                                        <td>@student.FullName</td>
                                                        <td>
                                                            <span class="badge bg-soft-success text-success">Completed</span>
                                                        </td>
                                                        <td>$350</td>
                                                        <td class="hstack justify-content-end gap-4 text-end">
                                                            <a href="javascript:void(0);" data-bs-toggle="tooltip" data-bs-trigger="hover" title="Sent Mail">
                                                                <i class="feather feather-send fs-12"></i>
                                                            </a>
                                                            <a href="javascript:void(0);" data-bs-toggle="tooltip" data-bs-trigger="hover" title="Invoice Details">
                                                                <i class="feather feather-eye fs-12"></i>
                                                            </a>
                                                            <a href="javascript:void(0);" data-bs-toggle="tooltip" data-bs-trigger="hover" title="More Options">
                                                                <i class="feather feather-more-vertical fs-12"></i>
                                                            </a>
                                                        </td>
                                                    </tr>
                                                }



                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="activityTab" role="tabpanel">

                                <div class="logs-history mt-3">
                                    <div class="px-4 mb-4 d-flex justify-content-between">
                                        <h5 class="fw-bold">Talabalar ro'yxati</h5>
                                    </div>
                                    <div class="table-responsive">
                                        <table class="table">
                                            <thead class="text-dark text-center border-top">
                                                <tr>
                                                    <th class="text-start ps-4">F.I.O</th>
                                                    <th>Telefon raqam</th>
                                                    <th>Ota-onasining raqami</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody class="text-center">

                                                @foreach (var student in Group?.Students ?? new())
                                                {
                                                    <tr>
                                                        <td class="fw-medium text-dark text-start ps-4">@student.FullName</td>
                                                        <td><span class="text-muted">@student.Phone</span></td>
                                                        <td>
                                                            <span class="text-muted"> <span class="d-none d-sm-inline-block">@student.MotherPhone</span></span>
                                                        </td>
                                                        <td>ss</td>
                                                    </tr>
                                                }

                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- [ Main Content ] end -->
    </div>

</main>


@* <span class="badge bg-soft-danger text-danger">Reject</span> *@

@* <td><span class="badge bg-soft-warning text-warning">Pendign</span></td> *@

@inject GroupClient GroupClient
@inject NavigationManager NavigationManager

@code {
    [Parameter]
    public int Id { get; set; }


    private Group? Group { get; set; }



    protected override async Task OnParametersSetAsync()
    {

        var group = await GroupClient.GetGroupByIdAsync(Id);


        Group = group;
        if (Group is null)
        {
            NavigationManager.NavigateTo("/center-admin/groups");

        }

    }
}
